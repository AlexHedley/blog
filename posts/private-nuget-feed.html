<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="AlexHedley">

  <title>Alex Hedley - Private NuGet Feed</title>

  <link rel="canonical" href='https://alexhedley.github.io/blog/posts/private-nuget-feed'>

      <link type="application/rss+xml" rel="alternate" title="Alex Hedley" href="/blog/feed.rss" />
      <link type="application/atom+xml" rel="alternate" title="Alex Hedley" href="/blog/feed.atom" />

  <meta name="application-name" content='Alex Hedley' />
  <meta name="msapplication-tooltip" content='Alex Hedley' />
  <meta name="msapplication-starturl" content='/blog/' />

  <meta property="og:title" content='Alex Hedley - Private NuGet Feed' />
  <meta property="og:type" content="website" />
  <meta property="og:url" content='https://alexhedley.github.io/blog/posts/private-nuget-feed' />

  <link rel="icon" href='/blog/favicon.ico'>

  <!-- Custom fonts for this template -->
  <link href='/blog/vendor/fontawesome-free/css/all.min.css' rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" data-no-mirror>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" data-no-mirror>

  <!-- Styles for this template (also includes Bootstrap) -->
  <link href='/blog/scss/clean-blog.css' rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror></script>
  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.3.0/dist/quicklink.umd.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.css" rel="stylesheet">

  <link href="/blog/scss/TabGroup.css" rel="stylesheet" type="text/css">

  

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href='/blog/'>Alex Hedley</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ms-auto">
          <li class="nav-item">
    <a class="nav-link" href="/blog/posts">Posts</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/blog/tags">Tags</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/blog/about">About</a>
  </li>

      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->
  <header class="masthead no-image">
  <div class="container position-relative">
    <div class="row">
      <div class="col-md-12">
        <div class='post-heading'>
          <h1>
            Private NuGet Feed
          </h1>
            <div class="meta">Published on Saturday, 14 March 2020</div>
              <div class="mt-3">
                  <a href="/blog/tags/programming" class="badge text-bg-light"> programming</a>
                  <a href="/blog/tags/nuget" class="badge text-bg-light"> nuget</a>
                  <a href="/blog/tags/ado" class="badge text-bg-light"> ado</a>
              </div>
        </div>
      </div>
    </div>
  </div>
</header>


  <!-- Main Content -->
  <div class="container">
    <div class="row">
      <div id="content" class="col-md-12">
        <p>As a .NET developer you probably use <a href="https://www.nuget.org/">NuGet</a> everyday, or something from it.</p>
<p><img src="images/nuget-logo-footer-184x57.png" alt="NuGet" /></p>
<blockquote>
<p>What is NuGet?</p>
<p>NuGet is the package manager for .NET. The NuGet client tools provide the ability to produce and consume packages. The NuGet Gallery is the central package repository used by all package authors and consumers.</p>
</blockquote>
<p>This is great for consuming other peoples libraries, even your own, if they can be public, but there are times you may wish to have a Private feed. Luckily there are options. One is hosting it yourself on your Azure Dev Ops (ADO) instance.</p>
<p>To do this create a new Project:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/azure/devops/organizations/projects/create-project?view=azure-devops&amp;tabs=preview-page">Create a project in Azure DevOps and TFS</a></li>
</ul>
<p>Then create a new Repo:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/azure/devops/repos/git/create-new-repo?view=azure-devops">Create a new Git repo in your project</a></li>
</ul>
<p>Click on the &quot;Artifacts&quot; tab</p>
<p><em>old</em> <code>https://[TENANT].visualstudio.com/[PROJECT]/_packaging?_a=feed&amp;feed=[FEEDNAME]</code>
<em>new</em> <code>https://[TENANT].azure.com/[PROJECT]/_packaging?_a=feed&amp;feed=[FEEDNAME]</code></p>
<p>Click &quot;+ Create Feed&quot;.</p>
<p>Give it a &quot;Name&quot;, set it's Visibility as you might only allow certain Users in the Org to see it, and decide if you want to include &quot;Upstream sources&quot;.</p>
<p>Next we can create a Pipeline.</p>
<h2 id="pipelines">PipeLines</h2>
<ul>
<li><a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/create-first-pipeline?view=azure-devops&amp;tabs=net%2Cyaml%2Cbrowser%2Ctfs-2018-2">Create your first pipeline</a></li>
</ul>
<p>Create a new Pipeline:</p>
<pre><code class="language-yml">trigger:
- master

pool:
  vmImage: '[CHOOSE]'

steps:
- script: echo Hello, world!
  displayName: 'Run a one-line script'

- task:
  [TODO]
</code></pre>
<p>You can decide which branches will trigger the pipeline to run.</p>
<p>You can pick an image to run your build on.</p>
<p>Next there is a publish step you can use, on the right hand side of the page there will either be a &quot;Show assistant&quot; button or a column of tasks.</p>
<p>Search for &quot;NuGet&quot;</p>
<p>Command: &quot;push&quot;</p>
<p>Path to NuGet package(s) to publish: &quot;<span class="math">\((Build.ArtifactStagingDirectory)/**/*.nupkg;!\)</span>(Build.ArtifactStagingDirectory)/**/*.symbols.nupkg&quot;</p>
<p>Target feed location: This organization/collection</p>
<p>Target feed: Choose from a picker.</p>
<pre><code class="language-yml">- task: NuGetCommand&#64;2
  inputs:
    command: 'push'
    packagesToPush: '$(Build.ArtifactStagingDirectory)/**/*.nupkg;!$(Build.ArtifactStagingDirectory)/**/*.symbols.nupkg'
    nuGetFeedType: 'internal'
    publishVstsFeed: '[GUID]'
</code></pre>
<p>The <code>publishVstsFeed</code> can either be a GUID or the name of the feed. When using the GUI it usually adds the underlying Guid.</p>
<p>I've skipped the other tasks needed, your code would need to be Built then packed etc.</p>
<hr />
<h2 id="links">Links</h2>
<ul>
<li><p><a href="https://docs.microsoft.com/en-us/azure/devops/organizations/projects/create-project?view=azure-devops&amp;tabs=preview-page">Create a project in Azure DevOps and TFS</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/en-us/azure/devops/repos/git/create-new-repo?view=azure-devops">Create a new Git repo in your project</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/en-gb/azure/devops/artifacts/overview?view=azure-devops">What is Azure Artifacts?</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/en-us/azure/devops/artifacts/concepts/feeds?view=azure-devops">Feeds</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/artifacts/pipeline-artifacts?view=azure-devops&amp;tabs=yaml">Publish and download artifacts</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/create-first-pipeline?view=azure-devops&amp;tabs=net%2Cyaml%2Cbrowser%2Ctfs-2018-2">Create your first pipeline</a></p>
</li>
</ul>


        

      </div>
    </div>
  </div>

  <hr>

  <!-- Footer -->
  <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-12 text-center">
        <p class="copyright">Copyright &#xA9; 2023</p>

        <ul class="list-inline text-center small">
            <li class="list-inline-item">
              <a href="/blog/feed.rss"><i class="fa fa-rss"></i> RSS Feed</a>
            </li>
            <li class="list-inline-item">
              <a href="/blog/feed.atom"><i class="fa fa-rss"></i> Atom Feed</a>
            </li>
        </ul>
        <br />
        <div class="font-weight-bold small"><a href="https://statiq.dev">Generated by Statiq</a></div>
      </div>
    </div>
  </div>
</footer>


  <!-- Scripts -->
  <script src='/blog/vendor/bootstrap/js/bootstrap.bundle.min.js'></script>
  <script src='/blog/vendor/startbootstrap-clean-blog/js/scripts.js'></script>
  <script src='/blog/js/clean-blog.js'></script>
      <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CQV2ZWNX32"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CQV2ZWNX32');
    </script>
  

</body>

</html>
